"use strict";const e=require("../../common/vendor.js"),n=require("../../api/safeApi.js"),o=require("../../utils/errorHandler.js");if(!Array){(e.resolveComponent("uni-card")+e.resolveComponent("uni-col")+e.resolveComponent("uni-row")+e.resolveComponent("uni-pagination"))()}Math||((()=>"../../uni_modules/uni-card/components/uni-card/uni-card.js")+(()=>"../../uni_modules/uni-row/components/uni-col/uni-col.js")+(()=>"../../uni_modules/uni-row/components/uni-row/uni-row.js")+(()=>"../../uni_modules/uni-pagination/components/uni-pagination/uni-pagination.js"))();const a={__name:"memo",setup(a){const i=e.ref([]),t=e.ref(!1),r=e.ref(0),u=e.ref(1),s=e.ref(10),l=async()=>{t.value=!0;const e={pageNum:u.value,pageSize:s.value,categoryIds:"1,2",keyword:""},o=await n.safeMemoApi.getMemoList(e);o&&(r.value=o.total,console.log(o),i.value=(null==o?void 0:o.records)||[]),t.value=!1},c=e=>{u.value=e.current,o.handleAsync((async()=>(await l(),{success:!0})),{showError:!0,errorMsg:"加载分页数据失败",loading:!1})};return e.onMounted((()=>{l()})),(n,o)=>e.e({a:e.f(i.value,((n,o,a)=>({a:e.t(n.content),b:e.o((o=>(n=>{e.index.navigateTo({url:`/pages/view/memoDetail/memoDetail?id=${n.id}&title=${n.title}`})})(n)),n.id),c:"42860347-2-"+a+",42860347-1-"+a,d:e.p({title:n.title,extra:n.updatedAt}),e:"42860347-1-"+a+",42860347-0-"+a,f:n.id,g:"42860347-0-"+a}))),b:e.p({span:24}),c:e.p({margin:"0px"}),d:0===i.value.length},(i.value.length,{}),{e:e.o(c),f:e.p({"show-icon":!0,total:r.value,current:u.value,"page-size":s.value}),g:e.t(r.value)})}},i=e._export_sfc(a,[["__scopeId","data-v-42860347"]]);wx.createPage(i);
