{"version":3,"file":"app.js","sources":["App.vue","main.js"],"sourcesContent":["<script setup>\r\nimport { onLaunch, onShow } from '@dcloudio/uni-app'\r\n\r\n// 检查是否已登录\r\nconst checkLogin = () => {\r\n  const token = uni.getStorageSync('token')\r\n  if (!token) {\r\n    // 获取当前页面路径\r\n    const pages = getCurrentPages()\r\n    const currentPage = pages[pages.length - 1]\r\n    const currentPath = currentPage ? currentPage.route : ''\r\n    \r\n    // 如果不在登录页，则跳转到登录页\r\n    if (currentPath !== 'pages/login/login') {\r\n       // 使用 reLaunch 而不是 redirectTo，避免导航冲突\r\n      uni.reLaunch({ \r\n        url: '/pages/login/login',\r\n        success: () => {\r\n          console.log('跳转到登录页成功')\r\n        },\r\n        fail: (err) => {\r\n          console.error('跳转失败:', err)\r\n        }\r\n      })\r\n      return false\r\n    }\r\n  }\r\n  return true\r\n}\r\n\r\n// 应用启动时检查登录状态\r\nonLaunch(() => {\r\n  console.log('App Launch')\r\n  // 延迟检查，确保页面已加载\r\n  setTimeout(() => {\r\n    checkLogin()\r\n  }, 500) // 增加延迟时间\r\n})\r\n\r\n// 应用显示时检查登录状态\r\nonShow(() => {\r\n  console.log('App Show')\r\n  // 延迟检查，确保页面已加载\r\n  setTimeout(() => {\r\n    checkLogin()\r\n  }, 500) // 增加延迟时间\r\n})\r\n</script>\r\n\r\n<style>\r\n/* 全局样式 */\r\npage {\r\n  background-color: #f5f7fa;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif;\r\n}\r\n\r\n/* 通用按钮样式 */\r\n.btn-primary {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 44rpx;\r\n  font-weight: bold;\r\n  box-shadow: 0 8px 24px rgba(102, 126, 234, 0.3);\r\n}\r\n\r\n.btn-danger {\r\n  background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 44rpx;\r\n  font-weight: bold;\r\n  box-shadow: 0 8px 24px rgba(255, 107, 107, 0.3);\r\n}\r\n\r\n/* 通用卡片样式 */\r\n.card-common {\r\n  background: white;\r\n  border-radius: 20rpx;\r\n  box-shadow: 0 4px 16px rgba(0,0,0,0.08);\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n/* 通用输入框样式 */\r\n.input-common {\r\n  background: #f8f9fa;\r\n  border-radius: 16rpx;\r\n  padding: 20rpx;\r\n  border: 2rpx solid transparent;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.input-common:focus {\r\n  border-color: #667eea;\r\n  background: white;\r\n  box-shadow: 0 0 0 4rpx rgba(102, 126, 234, 0.1);\r\n}\r\n</style>","\n// #ifndef VUE3\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nVue.config.productionTip = false\r\n\r\nApp.mpType = 'app'\r\n\r\nconst app = new Vue({\r\n    ...App\r\n})\r\napp.$mount()\r\n// #endif\n\n// #ifdef VUE3\r\nimport { createSSRApp } from 'vue'\nimport App from './App.vue'\nexport function createApp() {\n  const app = createSSRApp(App);\n  return {\n    app\n  }\n}\r\n// #endif"],"names":["uni","onLaunch","onShow","createSSRApp","App"],"mappings":";;;;;;;;;;;;;;AAIA,UAAM,aAAa,MAAM;AACvB,YAAM,QAAQA,cAAAA,MAAI,eAAe,OAAO;AACxC,UAAI,CAAC,OAAO;AAEV,cAAM,QAAQ,gBAAiB;AAC/B,cAAM,cAAc,MAAM,MAAM,SAAS,CAAC;AAC1C,cAAM,cAAc,cAAc,YAAY,QAAQ;AAGtD,YAAI,gBAAgB,qBAAqB;AAEvCA,wBAAAA,MAAI,SAAS;AAAA,YACX,KAAK;AAAA,YACL,SAAS,MAAM;AACbA,4BAAAA,MAAA,MAAA,OAAA,iBAAY,UAAU;AAAA,YACvB;AAAA,YACD,MAAM,CAAC,QAAQ;AACbA,4BAAAA,MAAc,MAAA,SAAA,iBAAA,SAAS,GAAG;AAAA,YAC3B;AAAA,UACT,CAAO;AACD,iBAAO;AAAA,QACR;AAAA,MACF;AACD,aAAO;AAAA,IACT;AAGAC,kBAAAA,SAAS,MAAM;AACbD,oBAAAA,MAAA,MAAA,OAAA,iBAAY,YAAY;AAExB,iBAAW,MAAM;AACf,mBAAY;AAAA,MACb,GAAE,GAAG;AAAA,IACR,CAAC;AAGDE,kBAAAA,OAAO,MAAM;AACXF,oBAAAA,MAAA,MAAA,OAAA,iBAAY,UAAU;AAEtB,iBAAW,MAAM;AACf,mBAAY;AAAA,MACb,GAAE,GAAG;AAAA,IACR,CAAC;;;;;AC7BM,SAAS,YAAY;AAC1B,QAAM,MAAMG,2BAAaC,SAAG;AAC5B,SAAO;AAAA,IACL;AAAA,EACD;AACH;;;"}