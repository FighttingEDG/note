{"version":3,"file":"app.js","sources":["App.vue","main.js"],"sourcesContent":["<script setup>\nimport { onLaunch, onShow } from '@dcloudio/uni-app'\n\n// 检查是否已登录\nconst checkLogin = () => {\n  const token = uni.getStorageSync('token')\n  if (!token) {\n    // 获取当前页面路径\n    const pages = getCurrentPages()\n    const currentPage = pages[pages.length - 1]\n    const currentPath = currentPage ? currentPage.route : ''\n    \n    // 如果不在登录页，则跳转到登录页\n    if (currentPath !== 'pages/login/login') {\n       // 使用 reLaunch 而不是 redirectTo，避免导航冲突\n      uni.reLaunch({ \n        url: '/pages/login/login',\n        success: () => {\n          console.log('跳转到登录页成功')\n        },\n        fail: (err) => {\n          console.error('跳转失败:', err)\n        }\n      })\n      return false\n    }\n  }\n  return true\n}\n\n// 应用启动时检查登录状态\nonLaunch(() => {\n  console.log('App Launch')\n  // 延迟检查，确保页面已加载\n  setTimeout(() => {\n    checkLogin()\n  }, 500) // 增加延迟时间\n})\n\n// 应用显示时检查登录状态\nonShow(() => {\n  console.log('App Show')\n  // 延迟检查，确保页面已加载\n  setTimeout(() => {\n    checkLogin()\n  }, 500) // 增加延迟时间\n})\n</script>\n\n<style>\n/* 全局样式 */\npage {\n  background-color: #f5f7fa;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif;\n}\n\n/* 通用按钮样式 */\n.btn-primary {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border: none;\n  border-radius: 44rpx;\n  font-weight: bold;\n  box-shadow: 0 8px 24px rgba(102, 126, 234, 0.3);\n}\n\n.btn-danger {\n  background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\n  color: white;\n  border: none;\n  border-radius: 44rpx;\n  font-weight: bold;\n  box-shadow: 0 8px 24px rgba(255, 107, 107, 0.3);\n}\n\n/* 通用卡片样式 */\n.card-common {\n  background: white;\n  border-radius: 20rpx;\n  box-shadow: 0 4px 16px rgba(0,0,0,0.08);\n  margin-bottom: 20rpx;\n}\n\n/* 通用输入框样式 */\n.input-common {\n  background: #f8f9fa;\n  border-radius: 16rpx;\n  padding: 20rpx;\n  border: 2rpx solid transparent;\n  transition: all 0.3s ease;\n}\n\n.input-common:focus {\n  border-color: #667eea;\n  background: white;\n  box-shadow: 0 0 0 4rpx rgba(102, 126, 234, 0.1);\n}\n</style>","\n// #ifndef VUE3\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nVue.config.productionTip = false\r\n\r\nApp.mpType = 'app'\r\n\r\nconst app = new Vue({\r\n    ...App\r\n})\r\napp.$mount()\r\n// #endif\n\n// #ifdef VUE3\r\nimport { createSSRApp } from 'vue'\nimport App from './App.vue'\nexport function createApp() {\n  const app = createSSRApp(App);\n  return {\n    app\n  }\n}\r\n// #endif"],"names":["uni","onLaunch","onShow","createSSRApp","App"],"mappings":";;;;;;;;;;;;;;AAIA,UAAM,aAAa,MAAM;AACvB,YAAM,QAAQA,cAAAA,MAAI,eAAe,OAAO;AACxC,UAAI,CAAC,OAAO;AAEV,cAAM,QAAQ,gBAAiB;AAC/B,cAAM,cAAc,MAAM,MAAM,SAAS,CAAC;AAC1C,cAAM,cAAc,cAAc,YAAY,QAAQ;AAGtD,YAAI,gBAAgB,qBAAqB;AAEvCA,wBAAAA,MAAI,SAAS;AAAA,YACX,KAAK;AAAA,YACL,SAAS,MAAM;AACbA,4BAAAA,MAAA,MAAA,OAAA,iBAAY,UAAU;AAAA,YACvB;AAAA,YACD,MAAM,CAAC,QAAQ;AACbA,4BAAAA,MAAc,MAAA,SAAA,iBAAA,SAAS,GAAG;AAAA,YAC3B;AAAA,UACT,CAAO;AACD,iBAAO;AAAA,QACR;AAAA,MACF;AACD,aAAO;AAAA,IACT;AAGAC,kBAAAA,SAAS,MAAM;AACbD,oBAAAA,MAAA,MAAA,OAAA,iBAAY,YAAY;AAExB,iBAAW,MAAM;AACf,mBAAY;AAAA,MACb,GAAE,GAAG;AAAA,IACR,CAAC;AAGDE,kBAAAA,OAAO,MAAM;AACXF,oBAAAA,MAAA,MAAA,OAAA,iBAAY,UAAU;AAEtB,iBAAW,MAAM;AACf,mBAAY;AAAA,MACb,GAAE,GAAG;AAAA,IACR,CAAC;;;;;AC7BM,SAAS,YAAY;AAC1B,QAAM,MAAMG,2BAAaC,SAAG;AAC5B,SAAO;AAAA,IACL;AAAA,EACD;AACH;;;"}